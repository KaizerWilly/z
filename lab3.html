<html>

	<head>
		<title>Lab #3</title>
	</head>

	<body>
		<div>First Name</div>
		<input type="text" id="txtFirst" maxlength="50" size="50" value="Sherlock" />
		<br /><br />
		<div>Last Name</div>
		<input type="text" id="txtLast" maxlength="50" size="50" value="Holmes" />
		<br /><br />
		<div>Address</div>
		<input type="text" id="txtAddress" maxlength="50" size="50" />
		<br /><br />
		<div>City</div>
		<input type="text" id="txtCity" maxlength="40" size="40" />
		<br /><br />
		<div>Province</div>
		<select id="selProvinces" onchange="testMemberProvince();">
			<option >British Columbia</option>
	  		<option >Alberta</option>
	  		<option >Saskatchewan</option>
	  		<option >Manitoba</option>
			<option >Ontario</option>
			<option >Quebec</option>
			<option >Nova Scotia</option>
			<option >Prince Edward Island</option>
			<option >Newfoundland & Labrador</option>
			<option >Northwest Territories</option>
		</select>
		<br /><br />
		<div>Postal Code</div>
		<input type="text" id="txtPostal" maxlength="7" size="7" />
		<br /><br />
		<div>Telephone</div>
		<input type="text" id="txtPhone" maxlength="12" size="12" />
		<br /><br />
		<label><input type="checkbox" id="chkMember" onclick="testMemberProvince();" />Is Member?</label><br />
		<br /><br />
		<input type="button" id="btnSubmit"  value="Submit" onclick="submit();"/>
        
		<!-- JavaScript -->
		<script language="JavaScript" type="text/JavaScript">

			function testMemberProvince() {
				let ref = $gel("selProvinces");
				let selectedProv = ref.options[ref.selectedIndex].text;
					
				if ($gel("chkMember").checked && selectedProv !== "Ontario") {
					alert("Only Ontario Customers are able to be members");
					$gel("chkMember").checked = false;
				}
			}

			


			const dataMap = new Map();			
			const dataSet = new Set();	

				

			function submit() {
				testEmpty("txtFirst");
				testEmpty("txtLast");
				testEmpty("txtAddress");
				testEmpty("txtCity");
				testEmpty("txtPostal");
				testEmpty("txtPhone");
				
				let first = $gel("txtFirst").value;
		    	let last = $gel("txtLast").value;
	    		let address = $gel("txtAddress").value;
	    		let city = $gel("txtCity").value;
	     		let postal = $gel("txtPostal").value;
	    		let phone = $gel("txtPhone").value;
	    		let province = $gel("selProvinces").value;
	    		let member = $gel("chkMember").checked;



                

				dumpSet();
				dumpMap();

	
			}

			function dumpSet(dataSet) {

				dataSet.add($gel("txtFirst").value);
			    dataSet.add($gel("txtLast").value);
				dataSet.add($gel("txtAddress").value);
				dataSet.add($gel("txtCity").value);
				dataSet.add($gel("txtPostal").value);
				dataSet.add($gel("txtPhone").value);
				dataSet.add($gel("selProvinces").value);
				dataSet.add($gel("chkMember").value);

	    		dataSet.forEach(function(value) {

		        	console.log(value);

	    		});
			
			}

			function dumpMap(dataMap) {

				dataMap.set(txtFirst, first);
				dataMap.set(txtLast, last);
				dataMap.set(txtAddress, address);
				dataMap.set(txtCity, city);
				dataMap.set(txtPostal, postal);
				dataMap.set(txtPhone, phone);
				dataMap.set(selProvinces, province);
				dataMap.set(chkMember, member);
			

			 	for (var [key, value] of dataMap) {

                    console.log(key + " = " + value);

                }
			/*
				console.log("txtFirst = " + first);
				console.log("txtLast = " + last);
				console.log("txtAddress = " + address);
				console.log("txtCity = " + city);
				console.log("txtPostal = " + postal);
				console.log("selProvinces = " + province);
				console.log("chkMember = " + member)
			*/
				
			}
			
			// *********************************************
			// helper function is used to test each text box
			// to ensure that something was entered
			function testEmpty(id) {
				if ($gel(id).value === "") {
					$gel(id).style.backgroundColor = "pink";
				}
				else {
					$gel(id).style.backgroundColor = "white";
				}
			}
			
			// *********************************************************************
			// helper function serves as a "wrapper" around document.getElementById
			// the only benefit to using this function is to reduce typing elsewhere 
			function $gel(id) {
				return document.getElementById(id);
			}
		</script>
	</body>
</html>
